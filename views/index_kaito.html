<!DOCTYPE html>
<%
    # i18n ì‚¬ì „ ì„¤ì •
    i18n = {
        'ko': {
            'user_analysis': 'ì‚¬ìš©ì ë¶„ì„',
            'leaderboard_analysis': 'ë¦¬ë”ë³´ë“œ ë¶„ì„',
            'alias_form': 'ë³„ëª… ë˜ëŠ” í•¸ë“¤ ì…ë ¥',
            'search_placeholder': 'ì‚¬ìš©ì ê²€ìƒ‰ (ì´ë¦„ ë˜ëŠ” ID)',
            'close': 'ë‹«ê¸°',
            'copy_success': 'ì§€ê°‘ ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ¦ˆ',
            'click_to_copy': 'í´ë¦­í•˜ì—¬ ì£¼ì†Œ ë³µì‚¬ ğŸ¦ˆ'
        },
        'en': {
            'user_analysis': 'User Analysis',
            'leaderboard_analysis': 'Leaderboard',
            'alias_form': 'Enter a nickname or handle',
            'search_placeholder': 'Search users (Name or ID)',
            'close': 'Close',
            'copy_success': 'Wallet address copied! ğŸ¦ˆ',
            'click_to_copy': 'Click to copy addressğŸ¦ˆ'
        }
    }
    t = i18n.get(lang, i18n['ko'])
%>
<html lang="{{lang}}">
% include('_head.html')
</head>
<body>
% include('_navbar.html')

    <div class="container mt-4 chart-relative" id="chartCardBody">
<!-- ì‚¬ìš©ì ê²€ìƒ‰ -->
<div class="chart-container" >
		<div id="chart-loading-overlay" class="chart-loading-overlay">
			ë°ì´í„° ë¡œë”© ì¤‘...
		</div>
    <div class="card">
        <div class="card-header">
            <h3>ğŸ¤– {{projectname.upper()}} {{t['user_analysis']}}</h3>
        </div>
		<div class="card-body">
            <div class="mb-3">
                <input type="text" class="form-control" id="userSearch" placeholder="{{t['alias_form']}}">
            </div>
            <div class="list-group" style="max-height: 300px; overflow-y: auto;">
                % for user in all_users:
                    <a href="/kaito/{{projectname}}/user/{{user['handle']}}" 
                       class="list-group-item list-group-item-action user-item" 
                       data-handle="{{user['handle']}}"
                       data-displayname="{{user['displayName']}}">
                        <strong>{{user['displayName']}}</strong> <span class="text-muted">@{{user['handle']}}</span>
                    </a>
                % end
            </div>
        </div>
    </div>
</div>

<script>
// User search functionality
document.getElementById('userSearch').addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();
    const userItems = document.querySelectorAll('.user-item');
    
    userItems.forEach(item => {
        const handle = item.dataset.handle.toLowerCase();
        const displayName = item.dataset.displayname.toLowerCase();
        if (handle.includes(searchTerm) || displayName.includes(searchTerm)) {
            item.style.display = 'block';
        } else {
            item.style.display = 'none';
        }
    });
});
</script>

% include('_footer.html')
</body>
</html>
